{"ast":null,"code":"var _jsxFileName = \"/Users/mengyisong/Documents/cwj/lab/client/src/views/Factory/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport DataTable from 'react-data-table-component';\nimport Modal from 'react-modal';\nimport appConfig from '../../config/app.config';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { BlockPicker } from 'react-color';\nModal.setAppElement('#root');\n\nfunction PageFactory() {\n  const [factoryList, setFactoryList] = useState([]);\n  const [modalShow, setModalShow] = useState(false);\n  const [modal, setModal] = useState({});\n  const [factory, setFactory] = useState(\"\");\n  const [color, setColor] = useState('#0000ff');\n  const [editFlag, setEditFlag] = useState(false);\n  const url = `${appConfig.baseURL}/api/factory`;\n  const customStyles = {\n    content: {\n      top: '40%',\n      left: '50%',\n      right: 'auto',\n      bottom: 'auto',\n      transform: 'translate(-50%, -50%)',\n      width: '60%'\n    }\n  };\n\n  const vaildInput = () => {\n    let msg = \"\";\n\n    if (factory === null || factory.trim().length === 0) {\n      msg += \"Factory is required, \";\n    }\n\n    if (!/^#+([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/i.test(color)) {\n      msg += \"Color is invalid, \";\n    }\n\n    if (msg.trim().length > 0) {\n      msg.slice(0, msg.length - 2);\n    }\n\n    return msg;\n  };\n\n  const closeModal = () => {\n    setModalShow(false);\n    setEditFlag(false);\n    setFactory(\"\");\n    setColor(\"#0000ff\");\n  };\n\n  const addModal = () => {\n    setModalShow(true);\n    setModal({\n      factory: \"\"\n    });\n    setFactory(\"\");\n    setColor(\"#0000ff\");\n  };\n\n  const deleteModal = item => {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(result => {\n      if (result.isConfirmed) {\n        let deleteURL = url + \"/\" + item.id;\n        axios.delete(deleteURL).then(resp => {\n          Swal.fire('Deleted!', 'Your record has been deleted.', 'success');\n          fetchFactory();\n        }).catch(error => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: 'Something went wrong! It could be used in the Inventory table.'\n          });\n\n          if (error.response && error.response.data && error.response.data.message) {\n            console.log(`error: ${error.response.data.message}`);\n          } else {\n            console.log(`error: ${error.message}`);\n          }\n        });\n      }\n    });\n  };\n\n  const save = () => {\n    let editURL = url;\n    let msg = vaildInput();\n\n    if (msg.length > 0) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: msg\n      });\n    } else {\n      if (editFlag) {\n        editURL = editURL + \"/\" + modal.id;\n        axios.put(editURL, {\n          factory: factory,\n          color: color\n        }).then(resp => {\n          Swal.fire('Updated!', '', 'success');\n          fetchFactory();\n          closeModal();\n        }).catch(error => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: 'Something went wrong!'\n          });\n\n          if (error.response && error.response.data && error.response.data.message) {\n            console.log(`error: ${error.response.data.message}`);\n          } else {\n            console.log(`error: ${error.message}`);\n          }\n        });\n      } else {\n        axios.post(editURL, {\n          factory: factory,\n          color: color\n        }).then(resp => {\n          Swal.fire('Saved!', '', 'success');\n          fetchFactory();\n          closeModal();\n        }).catch(error => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: 'Something went wrong!'\n          });\n\n          if (error.response && error.response.data && error.response.data.message) {\n            console.log(`error: ${error.response.data.message}`);\n          } else {\n            console.log(`error: ${error.message}`);\n          }\n        });\n      }\n    }\n  };\n\n  const columns = [{\n    name: \"Factory\",\n    selector: 'factory'\n  }, {\n    name: \"Color\",\n    cell: c => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          backgroundColor: c.color\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }\n      }, c.color));\n    }\n  }, {\n    name: '',\n    cell: c => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => {\n          setModalShow(true);\n          setEditFlag(true);\n          setModal(c);\n          setColor(c.color);\n          setFactory(c.factory);\n        },\n        className: \"btn btn-default\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => {\n          deleteModal(c);\n        },\n        className: \"btn btn-default\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }\n      }, \"Delete\"));\n    }\n  }];\n  const [filter, setFilter] = useState(\"\");\n\n  const FactoryTable = props => {\n    const filteredItems = props.factoryList.filter(item => item.factory && item.factory.toLowerCase().includes(props.searchFilter.toLowerCase()) || item.color && item.color.toLowerCase().includes(props.searchFilter.toLowerCase()));\n    return props.factoryList.length > 0 && /*#__PURE__*/React.createElement(DataTable, {\n      className: \"table table-bordered table-primary no-footer\",\n      noHeader: true,\n      columns: props.columns,\n      data: props.searchFilter.trim().length > 0 ? filteredItems : props.factoryList,\n      highlightOnHover: true,\n      pagination: true,\n      wrap: true,\n      paginationRowsPerPageOptions: [10, 20, 40, 50, 100, 200, 1000],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    });\n  };\n\n  const fetchFactory = () => {\n    axios(url).then(resp => {\n      let factoryList = resp.data;\n      setFactoryList(factoryList);\n    }).catch(error => {\n      if (error.response && error.response.data && error.response.data.message) {\n        console.log(`error: ${error.response.data.message}`);\n      } else {\n        console.log(`error: ${error.message}`);\n      }\n    });\n  };\n\n  useEffect(() => {\n    fetchFactory();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainpanel\",\n    style: {\n      marginLeft: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pageheader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"QC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 21\n    }\n  }, \"Factory Table\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contentpanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      margin: '20px 0px 35px 0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel panel-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 42\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    \"data-ng-init\": \"Show()\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    style: {\n      marginLeft: '5px'\n    },\n    placeholder: \"Search\",\n    onKeyUp: e => {\n      setFilter(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-default\",\n    onClick: addModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 41\n    }\n  }, \"Add\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      margin: '10px 0px 35px 0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel panel-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FactoryTable, {\n    columns: columns,\n    factoryList: factoryList,\n    searchFilter: filter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalShow,\n    style: customStyles,\n    contentLabel: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: closeModal,\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 45\n    }\n  }, \"\\xD7\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 45\n    }\n  }, \"Modal\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-horizontal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"status\",\n    className: \"col-sm-4 control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 53\n    }\n  }, \"Factory\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-8 col-md-8 col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    onKeyUp: e => {\n      setFactory(e.target.value);\n    },\n    placeholder: \"Factory\",\n    defaultValue: modal.factory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 57\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"status\",\n    className: \"col-sm-4 control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 53\n    }\n  }, \"Color\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-8 col-md-8 col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(BlockPicker, {\n    color: color,\n    onChangeComplete: (color, event) => {\n      setColor(color.hex);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 57\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-lg-offset-9 col-md-4 col-md-offset-8 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    style: {\n      textAlign: \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: save,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 57\n    }\n  }, editFlag ? \"Edit\" : \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-default\",\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 57\n    }\n  }, \"Cancel\")))))))))))));\n}\n\nexport default React.memo(PageFactory);","map":{"version":3,"sources":["/Users/mengyisong/Documents/cwj/lab/client/src/views/Factory/index.js"],"names":["React","useState","useEffect","DataTable","Modal","appConfig","axios","Swal","BlockPicker","setAppElement","PageFactory","factoryList","setFactoryList","modalShow","setModalShow","modal","setModal","factory","setFactory","color","setColor","editFlag","setEditFlag","url","baseURL","customStyles","content","top","left","right","bottom","transform","width","vaildInput","msg","trim","length","test","slice","closeModal","addModal","deleteModal","item","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","deleteURL","id","delete","resp","fetchFactory","catch","error","response","data","message","console","log","save","editURL","put","post","columns","name","selector","cell","c","backgroundColor","filter","setFilter","FactoryTable","props","filteredItems","toLowerCase","includes","searchFilter","marginLeft","margin","e","target","value","event","hex","textAlign","memo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport DataTable from 'react-data-table-component';\nimport Modal from 'react-modal';\nimport appConfig from '../../config/app.config';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { BlockPicker } from 'react-color';\n\nModal.setAppElement('#root')\n\nfunction PageFactory() {\n    const [factoryList, setFactoryList] = useState([]);\n    const [modalShow, setModalShow] = useState(false);\n    const [modal, setModal] = useState({});\n    const [factory, setFactory] = useState(\"\");\n    const [color, setColor] = useState('#0000ff');\n    const [editFlag, setEditFlag] = useState(false);\n    const url = `${appConfig.baseURL}/api/factory`;\n\n    const customStyles = {\n        content: {\n            top: '40%',\n            left: '50%',\n            right: 'auto',\n            bottom: 'auto',\n            transform: 'translate(-50%, -50%)',\n            width: '60%'\n        }\n    };\n\n    const vaildInput = () => {\n        let msg = \"\";\n\n        if (factory === null || factory.trim().length === 0) {\n            msg += \"Factory is required, \";\n        }\n        if (!/^#+([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/i.test(color)) {\n            msg += \"Color is invalid, \";\n        }\n\n        if (msg.trim().length > 0) {\n            msg.slice(0, msg.length - 2)\n        }\n\n        return msg;\n    };\n\n    const closeModal = () => {\n        setModalShow(false);\n        setEditFlag(false);\n        setFactory(\"\");\n        setColor(\"#0000ff\")\n    };\n\n    const addModal = () => {\n        setModalShow(true);\n        setModal({ factory: \"\" });\n        setFactory(\"\");\n        setColor(\"#0000ff\")\n    };\n\n    const deleteModal = (item) => {\n        Swal.fire({\n            title: 'Are you sure?',\n            text: \"You won't be able to revert this!\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Yes, delete it!'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                let deleteURL = url + \"/\" + item.id;\n\n                axios.delete(deleteURL)\n                    .then((resp) => {\n                        Swal.fire(\n                            'Deleted!',\n                            'Your record has been deleted.',\n                            'success'\n                        );\n                        fetchFactory();\n                    }).catch((error) => {\n                        Swal.fire({\n                            icon: 'error',\n                            title: 'Oops...',\n                            text: 'Something went wrong! It could be used in the Inventory table.'\n                        })\n                        if (error.response && error.response.data && error.response.data.message) {\n                            console.log(`error: ${error.response.data.message}`);\n                        }\n                        else {\n                            console.log(`error: ${error.message}`);\n                        }\n                    })\n            }\n        });\n    };\n\n    const save = () => {\n        let editURL = url;\n        let msg = vaildInput();\n\n        if (msg.length > 0) {\n            Swal.fire({\n                icon: 'error',\n                title: 'Oops...',\n                text: msg\n            });\n        }\n        else {\n            if (editFlag) {\n                editURL = editURL + \"/\" + modal.id;\n\n                axios.put(editURL, { factory: factory, color: color })\n                    .then((resp) => {\n                        Swal.fire('Updated!', '', 'success')\n                        fetchFactory();\n                        closeModal();\n                    }).catch((error) => {\n                        Swal.fire({\n                            icon: 'error',\n                            title: 'Oops...',\n                            text: 'Something went wrong!'\n                        });\n                        if (error.response && error.response.data && error.response.data.message) {\n                            console.log(`error: ${error.response.data.message}`);\n                        }\n                        else {\n                            console.log(`error: ${error.message}`);\n                        }\n                    })\n            }\n            else {\n                axios.post(editURL, { factory: factory, color: color })\n                    .then((resp) => {\n                        Swal.fire('Saved!', '', 'success');\n                        fetchFactory();\n                        closeModal();\n                    }).catch((error) => {\n                        Swal.fire({\n                            icon: 'error',\n                            title: 'Oops...',\n                            text: 'Something went wrong!'\n                        });\n                        if (error.response && error.response.data && error.response.data.message) {\n                            console.log(`error: ${error.response.data.message}`);\n                        }\n                        else {\n                            console.log(`error: ${error.message}`);\n                        }\n                    })\n            }\n        }\n    };\n\n    const columns = [\n        {\n            name: \"Factory\",\n            selector: 'factory'\n        },\n        {\n            name: \"Color\",\n            cell: (c) => {\n                return (\n                    <div>\n                        <label style={{ backgroundColor: c.color }} >{c.color}</label>\n                    </div>\n                )\n            }\n        },\n        {\n            name: '',\n            cell: (c) => {\n                return (\n                    <div className=\"form-group\">\n                        <button onClick={() => {\n                            setModalShow(true);\n                            setEditFlag(true);\n                            setModal(c);\n                            setColor(c.color);\n                            setFactory(c.factory);\n                        }}\n                            className=\"btn btn-default\">Edit\n                        </button>\n                        <button onClick={() => { deleteModal(c) }}\n                            className=\"btn btn-default\">Delete\n                        </button>\n                    </div>\n                )\n            }\n        }\n    ]\n\n    const [filter, setFilter] = useState(\"\");\n\n    const FactoryTable = (props) => {\n        const filteredItems = props.factoryList.filter(item =>\n            (\n                (item.factory && item.factory.toLowerCase().includes(props.searchFilter.toLowerCase()))\n                || (item.color && item.color.toLowerCase().includes(props.searchFilter.toLowerCase()))\n            )\n        )\n\n        return (\n            props.factoryList.length > 0 &&\n            <DataTable\n                className=\"table table-bordered table-primary no-footer\"\n                noHeader={true}\n                columns={props.columns}\n                data={props.searchFilter.trim().length > 0 ? filteredItems : props.factoryList}\n                highlightOnHover\n                pagination={true}\n                wrap={true}\n                paginationRowsPerPageOptions={[10, 20, 40, 50, 100, 200, 1000]}\n            />\n        )\n    };\n\n    const fetchFactory = () => {\n        axios(url)\n            .then((resp) => {\n                let factoryList = resp.data;\n                setFactoryList(factoryList);\n            }).catch((error) => {\n                if (error.response && error.response.data && error.response.data.message) {\n                    console.log(`error: ${error.response.data.message}`);\n                }\n                else {\n                    console.log(`error: ${error.message}`);\n                }\n            })\n    };\n\n    useEffect(() => {\n        fetchFactory();\n    }, []);\n\n    return (\n        <div className=\"mainpanel\" style={{ marginLeft: '5px' }}>\n            <div className=\"row\">\n                <div className=\"pageheader\">\n                    <h1 className=\"QC\">Factory Table</h1>\n                </div>\n            </div>\n            <div className=\"contentpanel\">\n                <div className=\"row\" style={{ margin: '20px 0px 35px 0px' }}>\n                    <div className=\"col-md-12\">\n                        <div className=\"panel panel-primary\">\n                            <div className=\"panel-heading\">\n                                <div className=\"panel-title\">\n                                    <div><span></span></div>\n                                </div>\n                            </div>\n                            <div className=\"panel-body\" data-ng-init=\"Show()\">\n                                <form className=\"form-inline\">\n                                    <div className=\"form-group\">\n                                        <input type=\"text\" className=\"form-control\" style={{ marginLeft: '5px' }} placeholder=\"Search\" onKeyUp={(e) => { setFilter(e.target.value) }} />\n                                        <button type=\"button\" className=\"btn btn-default\" onClick={addModal} >Add</button>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row\" style={{ margin: '10px 0px 35px 0px' }}>\n                    <div className=\"col-md-12\">\n                        <div className=\"panel panel-default\">\n                            <div className=\"panel-body table-responsive\">\n                                <FactoryTable\n                                    columns={columns}\n                                    factoryList={factoryList}\n                                    searchFilter={filter}\n                                />\n                                <Modal\n                                    isOpen={modalShow}\n                                    style={customStyles}\n                                    contentLabel=\"\"\n                                >\n                                    <div className=\"panel\">\n                                        <button type=\"button\" onClick={closeModal} className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                            <span aria-hidden=\"true\">&times;</span>\n                                        </button>\n                                        <div className=\"panel-heading\">\n                                            <label>Modal</label>\n                                        </div>\n                                        <div className=\"panel-body\">\n                                            <div className=\"form-horizontal\">\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"status\" className=\"col-sm-4 control-label\">Factory</label>\n                                                    <div className=\"col-lg-8 col-md-8 col-sm-8\">\n                                                        <input type=\"text\" className=\"form-control\" onKeyUp={(e) => { setFactory(e.target.value); }} placeholder=\"Factory\" defaultValue={modal.factory} />\n                                                    </div>\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"status\" className=\"col-sm-4 control-label\">Color</label>\n                                                    <div className=\"col-lg-8 col-md-8 col-sm-8\">\n                                                        <BlockPicker\n                                                            color={color}\n                                                            onChangeComplete={(color, event) => { setColor(color.hex); }}\n                                                        />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"panel-footer\">\n                                            <div className=\"row\">\n                                                <div className=\"col-lg-3 col-lg-offset-9 col-md-4 col-md-offset-8 col-sm-12\">\n                                                    <div className=\"form-group\" style={{ textAlign: \"right\" }}>\n                                                        <button className=\"btn btn-primary\" onClick={save} >{editFlag ? \"Edit\" : \"Save\"}</button>\n                                                        <button type=\"button\" className=\"btn btn-default\" onClick={closeModal} >Cancel</button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Modal>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    )\n}\n\nexport default React.memo(PageFactory)"]},"metadata":{},"sourceType":"module"}