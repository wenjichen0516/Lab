{"ast":null,"code":"var _jsxFileName = \"/Users/mengyisong/Documents/cwj/lab/client/src/components/Nav/index.js\";\nimport React, { useState } from 'react';\nimport { Dropdown, Menu } from 'semantic-ui-react';\nimport { withRouter } from 'react-router-dom';\n\nfunction Nav(props) {\n  const {\n    titleIcon,\n    titleText,\n    textColor,\n    activeColor,\n    leftMenu,\n    rightMenu\n  } = props.data;\n\n  const getActiveItemByPath = (menus, pathname) => {\n    for (let item of menus) {\n      if (item.subitems && item.subitems.length > 0) {\n        for (let i of item.subitems) {\n          if (i.href === pathname) {\n            return i.key;\n          }\n        }\n      }\n\n      if (item.href === pathname) {\n        return item.key;\n      }\n    }\n\n    return '';\n  };\n\n  const selectActiveItem = () => {\n    const pathname = props.location.pathname;\n    const val = getActiveItemByPath(leftMenu, pathname);\n    return val === '' ? getActiveItemByPath(leftMenu, pathname) : val;\n  };\n\n  const [activeItem, setActiveItem] = useState(selectActiveItem());\n\n  const handleMenuClick = menu => {\n    if (menu.externalLink) {\n      window.open(menu.href);\n    } else {\n      setActiveItem(menu.key);\n      props.history.push(menu.href);\n    }\n  };\n\n  const menuView = menus => {\n    return menus.map(item => {\n      return item.subitems && item.subitems.length ? /*#__PURE__*/React.createElement(Dropdown, {\n        key: item.key,\n        item: true,\n        text: item.title,\n        style: {\n          color: textColor\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }\n      }, item.subitems.map(i => {\n        return /*#__PURE__*/React.createElement(Dropdown.Item, {\n          onClick: () => handleMenuClick(i),\n          key: i.key,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 37\n          }\n        }, i.title);\n      }))) : /*#__PURE__*/React.createElement(Menu.Item, {\n        key: item.key,\n        active: activeItem === item.key,\n        style: {\n          color: textColor\n        },\n        onClick: () => handleMenuClick(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, item.title);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Menu, {\n    size: \"huge\",\n    style: {\n      padding: '0 4$%',\n      background: 'black'\n    },\n    color: activeColor,\n    pointing: true,\n    secondary: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    header: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      height: '18px',\n      width: '18px'\n    },\n    src: titleIcon,\n    alt: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'white',\n      marginLeft: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, titleText)), /*#__PURE__*/React.createElement(Menu.Menu, {\n    position: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, menuView(leftMenu)), /*#__PURE__*/React.createElement(Menu.Menu, {\n    position: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, menuView(rightMenu)));\n}\n\nexport default withRouter(React.memo(Nav));","map":{"version":3,"sources":["/Users/mengyisong/Documents/cwj/lab/client/src/components/Nav/index.js"],"names":["React","useState","Dropdown","Menu","withRouter","Nav","props","titleIcon","titleText","textColor","activeColor","leftMenu","rightMenu","data","getActiveItemByPath","menus","pathname","item","subitems","length","i","href","key","selectActiveItem","location","val","activeItem","setActiveItem","handleMenuClick","menu","externalLink","window","open","history","push","menuView","map","title","color","padding","background","height","width","marginLeft","memo"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Dropdown, Menu } from 'semantic-ui-react'\nimport { withRouter } from 'react-router-dom'\n\nfunction Nav (props) {\n    const { titleIcon, titleText, textColor, activeColor, leftMenu, rightMenu } = props.data\n\n    const getActiveItemByPath = (menus, pathname) => {\n        for (let item of menus){\n            if(item.subitems && item.subitems.length > 0){\n                for(let i of item.subitems){\n                    if(i.href === pathname){\n                        return i.key\n                    }\n                }\n            }\n            if(item.href === pathname){\n                return item.key\n            }\n        }\n        return ''\n    }\n\n    const selectActiveItem = () => {\n        const pathname = props.location.pathname\n        const val = getActiveItemByPath(leftMenu, pathname)\n        return val === '' ? getActiveItemByPath(leftMenu, pathname) : val\n    }\n\n    const [activeItem, setActiveItem] = useState(selectActiveItem())\n\n    const handleMenuClick = (menu) => {\n        if(menu.externalLink){\n            window.open(menu.href)\n        }else{\n            setActiveItem(menu.key)\n            props.history.push(menu.href)\n        }\n    }\n\n    const menuView = (menus) => {\n        return menus.map((item) => {\n            return item.subitems && item.subitems.length ?\n            (\n                <Dropdown key={item.key} item text={item.title} style={{ color: textColor }}>\n                    <Dropdown.Menu>\n                        {\n                            item.subitems.map((i) => {\n                                return(\n                                    <Dropdown.Item onClick={() => handleMenuClick(i)} key={i.key} >\n                                        {i.title}\n                                    </Dropdown.Item>\n                                )\n                            })\n                        }\n                    </Dropdown.Menu>\n                </Dropdown>\n            ) :\n            (\n                <Menu.Item key={item.key}\n                    active={activeItem === item.key}\n                    style={{ color: textColor }}\n                    onClick={() => handleMenuClick(item)}\n                >\n                    {item.title}\n                </Menu.Item>\n            )\n        })\n    }\n\n    return (\n        <Menu size='huge' style={{ padding: '0 4$%', background: 'black'}}\n            color={ activeColor } pointing secondary\n        >\n            <Menu.Item header>\n                <img style={{ height: '18px', width: '18px' }} src={titleIcon} alt='icon' />\n                <span style={{ color: 'white', marginLeft: '10px'}} >\n                    {titleText}\n                </span>\n            </Menu.Item>\n            <Menu.Menu position='left' >\n                {menuView(leftMenu)}\n            </Menu.Menu>\n            <Menu.Menu position='right'>\n                {menuView(rightMenu)}\n            </Menu.Menu>\n        </Menu>\n    )\n}\n\nexport default withRouter(React.memo(Nav))"]},"metadata":{},"sourceType":"module"}